{"version":3,"sources":["components/services/AuthService.js","components/layout/Navigation.js","components/services/ChatroomsService.js","components/views/Chatrooms/Chatrooms.js","components/services/ChatMessageService.js","components/views/Chatrooms/SingleChatroom.js","components/services/UploadService.js","components/services/UserService.js","components/views/AutocompleteGoogle/AutocompleteGoogle.js","components/views/GeocodeGoogle/GeocodeGoogle.js","components/views/CompleteYourProfile/CompleteYourProfile.js","components/views/Home/Home.js","components/views/GoogleAuth/GoogleAuth.js","components/views/Login/Login.js","components/services/MessagesService.js","components/views/Messages/MessagesGroup.js","components/views/Signup/Signup.js","components/views/Videochat/Videochat.js","components/Routes/Routes.js","App.js","reportWebVitals.js","index.js"],"names":["AuthService","signup","email","pwd","instance","post","login","google","data","logout","get","isloggedin","this","axios","create","baseURL","process","withCredentials","authService","Navigation","props","className","to","href","type","id","onClick","then","res","storeUser","catch","err","console","log","ChatroomService","getChatrooms","getOneChatroom","Chatrooms","refreshChatrooms","chatroomService","setState","state","chatrooms","error","displayChatRooms","map","chatroom","_id","title","Component","ChatMessageService","createMessage","checkNewMessages","SingleChatroom","refreshMessages","match","params","messages","arrTemporal","message","name","body","displayMessages","elm","idx","handleChange","e","target","value","handleSubmit","preventDefault","chatMessageService","handleCheckMessages","interval","setInterval","numberOfMessagesFromDB","numberOfMessages","users","clearInterval","onSubmit","onChange","UploadsService","uploadImg","imageForm","UserService","completeProfile","put","AutocompleteGoogle","bootstrapRef","usePlacesWidget","apiKey","onPlaceSelected","place","city","address_components","long_name","country","handleChangeDirection","ref","Form","Group","Label","style","color","Control","zIndex","GeocodeGoogle","latitude","longitude","navigator","geolocation","getCurrentPosition","position","lat","coords","long","changeState","Geocode","setApiKey","setLanguage","setRegion","setLocationType","enableDebug","fromLatLng","response","i","results","length","j","types","CompleteYourProfile","iban","image","rol","isLoading","showManualDirection","uploadService","userService","handleFile","uploadData","FormData","append","files","cloudinary_url","alert","handleSubmitTeacher","document","querySelector","classList","remove","handleSubmitStudent","tabIndex","role","required","Home","GoogleAuth","responseGoogle","profileObj","history","push","clientId","buttonText","onSuccess","onFailure","cookiePolicy","Login","handleInput","handleFormSubmit","Container","controlId","placeholder","Button","variant","MessageService","MessagesGroup","messageService","refreshMessagesGroup","Signup","socket","io","connect","Videochat","useState","me","setMe","stream","setStream","receivingCall","setReceivingCall","caller","setCaller","callerSignal","setCallerSignal","callAccepted","setCallAccepted","idToCall","setIdToCall","callEnded","setCallEnded","setName","myVideo","useRef","userVideo","connectionRef","useEffect","mediaDevices","getUserMedia","video","audio","current","srcObject","on","from","signal","textAlign","playsInline","muted","autoPlay","width","TextField","label","marginBottom","text","startIcon","fontSize","destroy","IconButton","peer","Peer","initiator","trickle","emit","userToCall","signalData","callUser","Routes","loggedUser","exact","path","render","App","componentDidMount","fetchUser","user","undefined","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f4903d72.chunk.js","sourcesContent":["import axios from 'axios';\n\nclass AuthService {\n  constructor() {\n    this.instance = axios.create({\n      baseURL: `${process.env.REACT_APP_BASE_URL_API_URL}/auth`,\n      withCredentials: true\n    })\n  }\n\n  signup = (email, pwd) => this.instance.post(\"/signup\", { email, pwd })\n  login = (email, pwd) => this.instance.post(\"/login\", { email, pwd })\n  google = (data) => this.instance.post('/google', {data})\n  logout = () => this.instance.get(\"/logout\")\n  isloggedin = () => this.instance.post(\"/isloggedin\")\n}\n\nexport default AuthService;","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport AuthService from '../services/AuthService'\n\nconst authService = new AuthService()\n\nexport default function Navigation(props) {\n\tconst logout = () => {\n\t\tauthService.logout().then(res => props.storeUser(null)).catch(err => console.log(err))\n\t}\n\treturn (\n\t\t<nav className='navbar navbar-expand-lg navbar-dark bg-dark'>\n\t\t\t<Link to='/' className='navbar-brand' href='#'>\n\t\t\t\tEnglissue\n\t\t\t</Link>\n\t\t\t<button\n\t\t\t\tclassName='navbar-toggler'\n\t\t\t\ttype='button'\n\t\t\t\tdata-toggle='collapse'\n\t\t\t\tdata-target='#navbarSupportedContent'\n\t\t\t\taria-controls='navbarSupportedContent'\n\t\t\t\taria-expanded='false'\n\t\t\t\taria-label='Toggle navigation'\n\t\t\t>\n\t\t\t\t<span className='navbar-toggler-icon' />\n\t\t\t</button>\n\n\t\t\t<div className='collapse navbar-collapse' id='navbarSupportedContent'>\n\t\t\t\t<ul className='navbar-nav mr-auto'>\n\t\t\t\t\t<li className='nav-item active'>\n\t\t\t\t\t\t<Link to='/iniciar-sesion' className='nav-link' href='#'>\n\t\t\t\t\t\t\tIniciar Sesión\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t<Link to='/registro' className='nav-link' href='#'>\n\t\t\t\t\t\t\tRegistrarse\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t<span className='nav-link' onClick={logout}>\n\t\t\t\t\t\t\tLogout\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t<Link to='/salas-chat' className='nav-link'>\n\t\t\t\t\t\t\tSalas de chat\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</li>\n\n\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t<Link to='/mis-mensajes' className='nav-link' href='#'>\n\t\t\t\t\t\t\tMis mensajes\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t<Link to='/videochat' className='nav-link' href='#'>\n\t\t\t\t\t\t\tVideochat\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</nav>\n\t)\n}\n","import axios from 'axios';\n\nclass ChatroomService {\n  constructor(){\n    this.instance = axios.create({\n      baseURL: `${process.env.REACT_APP_BASE_URL_API_URL}/chatrooms`,\n      withCredentials: true\n    })\n  }\n\n  getChatrooms = () => this.instance.get(\"/\");\n  getOneChatroom = (id) => this.instance.get(`/${id}`);\n//   createCoaster = (coaster) => this.instance.post(\"/\", coaster);\n}\n\nexport default ChatroomService;","import React, { Component } from 'react'\nimport ChatroomService from '../../services/ChatroomsService'\nimport { Link } from 'react-router-dom'\n\nclass Chatrooms extends Component {\n\tconstructor() {\n\t\tsuper()\n\n\t\tthis.state = {\n\t\t\tchatrooms: null\n\t\t}\n\t\tthis.chatroomService = new ChatroomService()\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.refreshChatrooms()\n\t}\n\n\trefreshChatrooms = () => {\n\t\tthis.chatroomService\n\t\t\t.getChatrooms()\n\t\t\t.then(res => {\n\t\t\t\tthis.setState({\n\t\t\t\t\t...this.state,\n\t\t\t\t\tchatrooms: res.data\n\t\t\t\t})\n\t\t\t})\n\t\t\t.catch(err => console.error(err))\n\t}\n\n\tdisplayChatRooms = () => {\n\t\treturn this.state.chatrooms.map(chatroom => {\n\t\t\tconsole.log(chatroom)\n\t\t\treturn (\n\t\t\t\t<Link key={chatroom._id} to={`/salas-chat/${chatroom._id}`}>\n\t\t\t\t\t<h1>{chatroom.title}</h1>\n\t\t\t\t</Link>\n\t\t\t)\n\t\t})\n\t}\n\n\trender() {\n\t\treturn this.state.chatrooms ? <div>{this.displayChatRooms()}</div> : <h3>Loading...</h3>\n\t}\n}\n\nexport default Chatrooms\n","import axios from 'axios';\n\nclass ChatMessageService {\n  constructor(){\n    this.instance = axios.create({\n      baseURL: `${process.env.REACT_APP_BASE_URL_API_URL}/chatmessages`,\n      withCredentials: true\n    })\n  }\n\n\n  createMessage = (data) => this.instance.post(`/${data.id}`, data)\n  checkNewMessages = (id) => this.instance.get(`/${id}`)\n\n}\n\nexport default ChatMessageService;","import React, { Component } from 'react'\nimport ChatMessageService from '../../services/ChatMessageService'\nimport ChatroomService from '../../services/ChatroomsService'\n\nexport default class SingleChatroom extends Component {\n\tconstructor(props) {\n\n\n\t\t\n\t\tsuper(props)\n\n\t\tthis.interval = \"\"\n\t\t\n\t\tthis.state = {\n\t\t\tnumberOfMessages: '0',\n\t\t\tusers: null,\n\t\t\tmessages: [\n\t\t\t\t{\n\t\t\t\t\temail: '',\n\t\t\t\t\tbody: ''\n\t\t\t\t}\n\t\t\t],\n\t\t\tbody: ''\n\t\t}\n\t\tthis.chatroomService = new ChatroomService()\n\t\tthis.chatMessageService = new ChatMessageService()\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.refreshMessages()\n\t\tthis.handleCheckMessages()\n\t}\n\n\tcomponentWillUnmount() {\n\t\tclearInterval(this.interval)\n\t}\n\n\trefreshMessages = () => {\n\t\tthis.chatroomService\n\t\t\t.getOneChatroom(this.props.match.params.id)\n\t\t\t.then(res => {\n\t\t\t\tconsole.log(res.data.messages, 'es aquí')\n\t\t\t\tconst arrTemporal = res.data.messages.map(message => {\n\t\t\t\t\tconst { email } = message.name\n\t\t\t\t\tconst { body } = message\n\t\t\t\t\tconst msg = { email, body }\n\t\t\t\t\treturn msg\n\t\t\t\t})\n\n\t\t\t\tthis.setState({\n\t\t\t\t\t...this.state,\n\t\t\t\t\tmessages: [ ...arrTemporal ]\n\t\t\t\t})\n\t\t\t})\n\t\t\t.catch(err => console.log(err))\n\t}\n\n\tdisplayMessages = () => {\n\t\treturn this.state.messages.map((elm, idx) => {\n\t\t\treturn (\n\t\t\t\t<div key={idx}>\n\t\t\t\t\t<h1>{elm.email}</h1>\n\t\t\t\t\t<h2>{elm.body}</h2>\n\t\t\t\t</div>\n\t\t\t)\n\t\t})\n\t}\n\n\thandleChange = e => {\n\t\tconst { value, name } = e.target\n\n\t\tthis.setState({\n\t\t\t...this.state,\n\t\t\t[name]: value\n\t\t})\n\t}\n\n\thandleSubmit = e => {\n\t\te.preventDefault()\n\t\tconsole.log('he entrado')\n\t\tconst body = this.state.body\n\t\tconst id = this.props.match.params.id\n\t\tthis.chatMessageService\n\t\t\t.createMessage({ body, id })\n\t\t\t.then(() => {\n\t\t\t\tthis.refreshMessages()\n\t\t\t\tthis.setState({\n\t\t\t\t\t...this.state,\n\t\t\t\t\tbody: ''\n\t\t\t\t})\n\t\t\t})\n\t\t\t.catch(err => console.log(err))\n\t}\n\n\thandleCheckMessages = () => {\n\t\tthis.interval = setInterval(() => {\n\t\t\tconst {id} = this.props.match.params\n\n\t\t\tthis.chatMessageService\n\t\t\t\t.checkNewMessages(id)\n\t\t\t\t.then(numberOfMessagesFromDB => {\n\t\t\t\n\t\t\t\t\tthis.state.numberOfMessages !== numberOfMessagesFromDB.data.numberOfMessagesFromDB &&\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t...this.state,\n\t\t\t\t\t\t\tnumberOfMessages: numberOfMessagesFromDB.data.numberOfMessagesFromDB\n\t\t\t\t\t\t}, this.refreshMessages())\n\t\t\t\t})\n\t\t\t\t.catch(err => console.log(err))\n\t\t}, 1000)\n\t}\n\n\trender() {\n\t\tconsole.log(this.state.messages, 'hola')\n\t\treturn this.state.messages ? (\n\t\t\t<div>\n\t\t\t\t{this.displayMessages()}\n\t\t\t\t<form onSubmit={e => this.handleSubmit(e)}>\n\t\t\t\t\t<input onChange={this.handleChange} type='text' name='body' />\n\t\t\t\t\t<button type='submit'>enviar</button>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t) : (\n\t\t\t<div>loading</div>\n\t\t)\n\t}\n}\n","import axios from 'axios';\n\nclass UploadsService {\n  constructor() {\n    this.instance = axios.create({\n      baseURL: `${process.env.REACT_APP_BASE_URL_API_URL}/uploads`,\n      withCredentials: true\n    })\n  }\n\n  uploadImg = (imageForm) => this.instance.post(\"/image\", imageForm)\n}\n\nexport default UploadsService;","import axios from 'axios';\n\nclass UserService {\n  constructor() {\n    this.instance = axios.create({\n      baseURL: `${process.env.REACT_APP_BASE_URL_API_URL}/user`,\n      withCredentials: true\n    })\n  }\n\n  completeProfile = (data) => this.instance.put(\"/complete-profile\", {data})\n}\n\nexport default UserService;","import React from 'react'\nimport Form from 'react-bootstrap/Form'\nimport { usePlacesWidget } from 'react-google-autocomplete'\nimport './AutocompleteGoogle.css'\n\nexport default function AutocompleteGoogle(props) {\n\tconst { ref: bootstrapRef } = usePlacesWidget({\n\t\tapiKey: process.env.REACT_APP_BASE_URL_GOOGLE,\n\t\tonPlaceSelected: place => {\n\t\t\tconst city = place.address_components[0].long_name\n\t\t\tconst country = place.address_components[3].long_name\n\t\t\tprops.handleChangeDirection(city, country)\n\t\t}\n\t})\t\n\n\treturn (\n\t\t<div>\n\t\t\t<Form.Group>\n\t\t\t\t<Form.Label style={{ color: 'black' }}>Selecciona tu ubicación</Form.Label>\n\t\t\t\t<Form.Control style={{ zIndex: 99999 }} type='text' ref={bootstrapRef} />\n\t\t\t</Form.Group>\n\t\t</div>\n\t)\n}\n","import React, { Component } from 'react'\nimport Geocode from 'react-geocode'\n\nexport default class GeocodeGoogle extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tlatitude: '',\n\t\t\tlongitude: ''\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tnavigator.geolocation.getCurrentPosition(position => {\n\t\t\tconst lat = position.coords.latitude\n\t\t\tconst long = position.coords.longitude\n\n\t\t\tconsole.log(lat)\n\t\t\tconsole.log(long)\n\n\t\t\tthis.changeState(lat, long)\n\t\t})\n\t}\n\n\tchangeState(lat, long) {\n\t\tthis.setState(\n\t\t\t{\n\t\t\t\tlatitude: lat,\n\t\t\t\tlongitude: long\n\t\t\t},\n\t\t\tthis.geolocation(lat, long)\n\t\t)\n\t}\n\n\tgeolocation(lat, long) {\n\t\tGeocode.setApiKey(process.env.REACT_APP_BASE_URL_GOOGLE)\n\t\tGeocode.setLanguage('es')\n\t\tGeocode.setRegion('es')\n\t\tGeocode.setLocationType('ROOFTOP')\n\t\tGeocode.enableDebug()\n\t\t\n\t\tGeocode.fromLatLng(lat, long).then(\n\t\t\tresponse => {\n\t\t\t\tlet city, country\n\t\t\t\tfor (let i = 0; i < response.results[0].address_components.length; i++) {\n\t\t\t\t\tfor (let j = 0; j < response.results[0].address_components[i].types.length; j++) {\n\t\t\t\t\t\tswitch (response.results[0].address_components[i].types[j]) {\n\t\t\t\t\t\t\tcase 'locality':\n\t\t\t\t\t\t\t\tcity = response.results[0].address_components[i].long_name\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\tcase 'country':\n\t\t\t\t\t\t\t\tcountry = response.results[0].address_components[i].long_name\n\t\t\t\t\t\t\t\tbreak\n              default: \n                break\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconsole.log(city, country, this.props)\n        this.props.handleChangeDirection(city, country)\n\t\t\t},\n\t\t\terror => {\n\t\t\t\tconsole.error(error)\n\t\t\t}\n\t\t)\n\t}\n\n\trender() {\n\t\treturn <div>{/* <h4>Using geolocation JavaScript API in React</h4> */}</div>\n\t}\n}\n","import React, { Component } from 'react'\n// import { Button, Form } from 'react-bootstrap'\nimport UploadsService from '../../services/UploadService'\nimport UserService from '../../services/UserService'\nimport AutocompleteGoogle from '../AutocompleteGoogle/AutocompleteGoogle'\nimport GeocodeGoogle from '../GeocodeGoogle/GeocodeGoogle'\n\nexport default class CompleteYourProfile extends Component {\n\tstate = {\n\t\tname: '',\n\t\tiban: '',\n\t\timage: '',\n\t\trol: '',\n\t\tcity: '',\n\t\tcountry: '',\n\t\tisLoading: false,\n\t\tshowManualDirection: false\n\t}\n\n\tuploadService = new UploadsService()\n\tuserService = new UserService()\n\n\thandleChange = e => {\n\t\tconst { value, name } = e.target\n\n\t\tthis.setState({\n\t\t\t...this.state,\n\t\t\t[name]: value\n\t\t})\n\t}\n\n\thandleChangeDirection = (city, country) => {\n\t\tthis.setState({\n\t\t\t...this.state,\n\t\t\tcity: city,\n\t\t\tcountry: country\n\t\t})\n\t}\n\n\thandleFile = e => {\n\t\tthis.setState({\n\t\t\t...this.state,\n\t\t\tisLoading: true\n\t\t})\n\n\t\tconst uploadData = new FormData()\n\t\tuploadData.append('imageData', e.target.files[0])\n\n\t\tthis.uploadService\n\t\t\t.uploadImg(uploadData)\n\t\t\t.then(res => {\n\t\t\t\tthis.setState({\n\t\t\t\t\t...this.state,\n\t\t\t\t\tisLoading: false,\n\t\t\t\t\timage: res.data.cloudinary_url\n\t\t\t\t})\n\t\t\t})\n\t\t\t.catch(err => alert('Error, esto lo hacéis vosotros.'))\n\t}\n\n\thandleSubmitTeacher = e => {\n\t\te.preventDefault()\n\t\tif (!this.state.country || !this.state.city) {\n\t\t\talert('No hemos podido detectar tu ubicación, por favor introduce tu ciudad.')\n\t\t\tthis.setState(\n\t\t\t\t{\n\t\t\t\t\t...this.state,\n\t\t\t\t\tshowManualDirection: true\n\t\t\t\t},\n\t\t\t\tconsole.log(this.state)\n\t\t\t)\n\t\t} else {\n\t\t\tthis.userService\n\t\t\t\t.completeProfile({\n\t\t\t\t\tname: this.state.name,\n\t\t\t\t\trol: 'teacher',\n\t\t\t\t\tcity: this.state.city,\n\t\t\t\t\tcountry: this.state.country,\n\t\t\t\t\timage: this.state.image,\n\t\t\t\t\tiban: this.state.iban\n\t\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tname: '',\n\t\t\t\t\t\tiban: '',\n\t\t\t\t\t\timage: '',\n\t\t\t\t\t\trol: '',\n\t\t\t\t\t\tcity: '',\n\t\t\t\t\t\tcountry: '',\n\t\t\t\t\t\tisLoading: false,\n\t\t\t\t\t\tshowManualDirection: false\n\t\t\t\t\t})\n\t\t\t\t\tconst modal = document.querySelector('#ProfesionalsModal')\n\t\t\t\t\tmodal.classList.remove('show')\n\t\t\t\t})\n\t\t\t\t.catch(err => console.log(err))\n\t\t}\n\t}\n\n\thandleSubmitStudent = e => {\n\t\te.preventDefault()\n\t\tif (!this.state.country || !this.state.city) {\n\t\t\talert('No hemos podido detectar tu ubicación, por favor introduce tu ciudad.')\n\t\t\tthis.setState(\n\t\t\t\t{\n\t\t\t\t\t...this.state,\n\t\t\t\t\tshowManualDirection: true\n\t\t\t\t},\n\t\t\t\tconsole.log(this.state)\n\t\t\t)\n\t\t} else {\n\t\t\tthis.userService\n\t\t\t\t.completeProfile({\n\t\t\t\t\tname: this.state.name,\n\t\t\t\t\trol: 'student',\n\t\t\t\t\tcity: this.state.city,\n\t\t\t\t\tcountry: this.state.country,\n\t\t\t\t\timage: this.state.image\n\t\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tname: '',\n\t\t\t\t\t\tiban: '',\n\t\t\t\t\t\timage: '',\n\t\t\t\t\t\trol: '',\n\t\t\t\t\t\tcity: '',\n\t\t\t\t\t\tcountry: '',\n\t\t\t\t\t\tisLoading: false,\n\t\t\t\t\t\tshowManualDirection: false\n\t\t\t\t\t})\n\t\t\t\t\tconst modal = document.querySelector('#studentModal')\n\t\t\t\t\tmodal.classList.remove('show')\n\t\t\t\t})\n\t\t\t\t.catch(err => console.log(err))\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className='container'>\n\t\t\t\t<div className='row justify-content-center'>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\tclassName='btn btn-primary'\n\t\t\t\t\t\tdata-toggle='modal'\n\t\t\t\t\t\tdata-target='#ProfesionalsModal'\n\t\t\t\t\t>\n\t\t\t\t\t\tProfesor\n\t\t\t\t\t</button>\n\t\t\t\t\t<button type='button' className='btn btn-primary' data-toggle='modal' data-target='#studentModal'>\n\t\t\t\t\t\tEstudiante\n\t\t\t\t\t</button>\n\n\t\t\t\t\t<GeocodeGoogle handleChangeDirection={this.handleChangeDirection} />\n\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName='modal fade'\n\t\t\t\t\t\tid='ProfesionalsModal'\n\t\t\t\t\t\ttabIndex='-1'\n\t\t\t\t\t\trole='dialog'\n\t\t\t\t\t\taria-labelledby='exampleModalLabel'\n\t\t\t\t\t\taria-hidden='true'\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className='modal-dialog' role='document'>\n\t\t\t\t\t\t\t<div className='modal-content'>\n\t\t\t\t\t\t\t\t<div className='modal-header'>\n\t\t\t\t\t\t\t\t\t<h5 className='modal-title' id='exampleModalLabel'>\n\t\t\t\t\t\t\t\t\t\tDatos Profesor\n\t\t\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className='modal-body'>\n\t\t\t\t\t\t\t\t\t<form onSubmit={this.handleSubmitTeacher}>\n\t\t\t\t\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t\t\t\t\t<p>Imagen de perfil</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={e => this.handleFile(e)}\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype='file'\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\t\t\t\t\t\tid='image'\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-describedby='emailHelp'\n\t\t\t\t\t\t\t\t\t\t\t\t\tname='image'\n\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t\t\t\t\t<p>Nombre completo</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={e => this.handleChange(e)}\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\t\t\t\t\t\tid='name'\n\t\t\t\t\t\t\t\t\t\t\t\t\tname='name'\n\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t\t\t\t\t<p>IBAN</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={e => this.handleChange(e)}\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\t\t\t\t\t\tid='iban'\n\t\t\t\t\t\t\t\t\t\t\t\t\tname='iban'\n\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t{this.state.showManualDirection && (\n\t\t\t\t\t\t\t\t\t\t\t<AutocompleteGoogle handleChangeDirection={this.handleChangeDirection} />\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t<hr className='mb-4' />\n\t\t\t\t\t\t\t\t\t\t{this.state.isLoading && <h1>LOADING</h1>}\n\t\t\t\t\t\t\t\t\t\t<button type='submit' className='btn btn-primary btn-block'>\n\t\t\t\t\t\t\t\t\t\t\tEnviar\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName='modal fade'\n\t\t\t\t\t\tid='studentModal'\n\t\t\t\t\t\ttabIndex='-1'\n\t\t\t\t\t\trole='dialog'\n\t\t\t\t\t\taria-labelledby='ModalLabel'\n\t\t\t\t\t\taria-hidden='true'\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className='modal-dialog' role='document'>\n\t\t\t\t\t\t\t<div className='modal-content'>\n\t\t\t\t\t\t\t\t<div className='modal-header'>\n\t\t\t\t\t\t\t\t\t<h5 className='modal-title' id='ModalLabel'>\n\t\t\t\t\t\t\t\t\t\tDatos alumno\n\t\t\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className='modal-body'>\n\t\t\t\t\t\t\t\t\t<form onSubmit={e => this.handleSubmitStudent(e)}>\n\t\t\t\t\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t\t\t\t\t<p>Imagen de perfil</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={e => this.handleFile(e)}\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype='file'\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\t\t\t\t\t\tname='image'\n\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t\t\t\t\t<p>Nombre completo</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={e => this.handleChange(e)}\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\t\t\t\t\t\tid='name'\n\t\t\t\t\t\t\t\t\t\t\t\t\tname='name'\n\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t{this.state.showManualDirection && (\n\t\t\t\t\t\t\t\t\t\t\t<AutocompleteGoogle handleChangeDirection={this.handleChangeDirection} />\n\t\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t\t{this.state.isLoading && <h1>LOADING</h1>}\n\t\t\t\t\t\t\t\t\t\t<hr className='mb-4' />\n\t\t\t\t\t\t\t\t\t\t<button type='submit' className='btn btn-primary btn-block'>\n\t\t\t\t\t\t\t\t\t\t\tEnviar\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n","import React from 'react'\n\nexport default function Home() {\n    return (\n        <div>\n            <h1>hola soy la home page</h1>\n        </div>\n    )\n}\n","import React, { Component } from 'react'\nimport GoogleLogin from 'react-google-login'\nimport AuthService from '../../services/AuthService'\n\nexport class GoogleAuth extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.authService = new AuthService()\n\t}\n\n\tresponseGoogle = res => {\n\n\t\tthis.authService\n\t\t\t.google(res.profileObj)\n\t\t\t.then(res => {\n\t\t\t\tthis.props.storeUser(res.data)\n\t\t\t\tres.data.rol === 'unknown' ? this.props.history.push('/completar-perfil') : this.props.history.push('/')\n\t\t\t})\n\t\t\t.catch(err => console.log(err))\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<GoogleLogin\n\t\t\t\t\tclientId={process.env.REACT_APP_BASE_URL_GOOGLE_LOGIN}\n\t\t\t\t\tbuttonText='Login'\n\t\t\t\t\tonSuccess={this.responseGoogle}\n\t\t\t\t\tonFailure={this.responseGoogle}\n\t\t\t\t\tcookiePolicy='single_host_origin'\n\t\t\t\t/>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default GoogleAuth\n","import React, { Component } from 'react'\nimport { Container, Form, Button } from 'react-bootstrap'\nimport AuthService from '../../services/AuthService'\nimport GoogleAuth from '../GoogleAuth/GoogleAuth'\n\nclass Login extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\temail: '',\n\t\t\tpwd: ''\n\t\t}\n\t\tthis.authService = new AuthService()\n\t}\n\n\thandleInput = e => {\n\t\tconst { name, value } = e.target\n\t\tthis.setState({ [name]: value })\n\t}\n\n\thandleFormSubmit = e => {\n\t\te.preventDefault()\n\t\tconst { email, pwd } = this.state\n\n\t\tthis.authService\n\t\t\t.login(email, pwd)\n\t\t\t.then(res => {\n\t\t\t\tthis.props.storeUser(res.data)\n\t\t\t\tres.data.rol === 'unknown' ? this.props.history.push('/completar-perfil') : this.props.history.push('/')\n\t\t\t})\n\t\t\t.catch(err => console.log(err))\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Container>\n\t\t\t\t<Form onSubmit={this.handleFormSubmit}>\n\t\t\t\t\t<Form.Group className='mb-3' controlId='formBasicEmail'>\n\t\t\t\t\t\t<Form.Label>Email</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\tvalue={this.state.email}\n\t\t\t\t\t\t\tonChange={this.handleInput}\n\t\t\t\t\t\t\ttype='email'\n\t\t\t\t\t\t\tplaceholder='Enter email'\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\n\t\t\t\t\t<Form.Group className='mb-3' controlId='formBasicPassword'>\n\t\t\t\t\t\t<Form.Label>Password</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tname='pwd'\n\t\t\t\t\t\t\tvalue={this.state.pwd}\n\t\t\t\t\t\t\tonChange={this.handleInput}\n\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\tplaceholder='Password'\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\n\t\t\t\t\t<Button variant='primary' type='submit'>\n\t\t\t\t\t\tSubmit\n\t\t\t\t\t</Button>\n\t\t\t\t</Form>\n\t\t\t\t<GoogleAuth storeUser={this.props.storeUser} {...this.props}/>\n\t\t\t</Container>\n\t\t)\n\t}\n}\n\nexport default Login\n","import axios from 'axios';\n\nclass MessageService {\n  constructor(){\n    this.instance = axios.create({\n      baseURL: `${process.env.REACT_APP_BASE_URL_API_URL}/chatmessages`,\n      withCredentials: true\n    })\n  }\n\n\n  createMessage = (data) => this.instance.post(`/${data.id}`, data)\n  checkNewMessages = (id) => this.instance.get(`/${id}`)\n\n}\n\nexport default MessageService;","import React, { Component } from 'react'\nimport MessageService from '../../services/MessagesService'\n\nexport default class MessagesGroup extends Component {\n\tconstructor() {\n\t\tsuper()\n\n\t\tthis.state = {}\n\n\t\tthis.messageService = new MessageService()\n\t}\n\n\n    componentDidMount(){\n        this.refreshMessagesGroup()\n    }\n\n    refreshMessagesGroup(){\n        \n    }\n\n\trender() {\n\t\treturn <div>hola soy los mensajes</div>\n\t}\n}\n","import React, { Component } from 'react'\nimport { Container, Form, Button } from 'react-bootstrap'\nimport AuthService from '../../services/AuthService'\n\nclass Signup extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\temail: '',\n\t\t\tpwd: ''\n\t\t}\n\t\tthis.authService = new AuthService()\n\t}\n\n\thandleInput = e => {\n\t\tconst { name, value } = e.target\n\t\tthis.setState({ [name]: value })\n\t}\n\n\thandleFormSubmit = e => {\n\t\te.preventDefault()\n\t\tconst { email, pwd } = this.state\n\t\tthis.authService\n\t\t\t.signup(email, pwd)\n\t\t\t.then(res => {\n\t\t\t\tthis.props.storeUser(res.data)\n\t\t\t\tres.data.rol === 'unknown' ? this.props.history.push('/completar-perfil') : this.props.history.push('/')\n\t\t\t})\n\t\t\t.catch(err => console.log(err))\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Container>\n\t\t\t\t<Form onSubmit={this.handleFormSubmit}>\n\t\t\t\t\t<Form.Group className='mb-3' controlId='formBasicEmail'>\n\t\t\t\t\t\t<Form.Label>email</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\tvalue={this.state.email}\n\t\t\t\t\t\t\tonChange={this.handleInput}\n\t\t\t\t\t\t\ttype='email'\n\t\t\t\t\t\t\tplaceholder='Enter email'\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\n\t\t\t\t\t<Form.Group className='mb-3' controlId='formBasicPassword'>\n\t\t\t\t\t\t<Form.Label>Password</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tname='pwd'\n\t\t\t\t\t\t\tvalue={this.state.pwd}\n\t\t\t\t\t\t\tonChange={this.handleInput}\n\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\tplaceholder='Password'\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\n\t\t\t\t\t<Button variant='primary' type='submit'>\n\t\t\t\t\t\tSubmit\n\t\t\t\t\t</Button>\n\t\t\t\t</Form>\n\t\t\t</Container>\n\t\t)\n\t}\n}\n\nexport default Signup\n","import Button from '@material-ui/core/Button'\nimport IconButton from '@material-ui/core/IconButton'\nimport TextField from '@material-ui/core/TextField'\nimport AssignmentIcon from '@material-ui/icons/Assignment'\nimport PhoneIcon from '@material-ui/icons/Phone'\nimport React, { useEffect, useRef, useState } from 'react'\nimport { CopyToClipboard } from 'react-copy-to-clipboard'\nimport Peer from 'simple-peer'\nimport io from 'socket.io-client'\nimport './Videochat.css'\n\nconst socket = io.connect('http://localhost:5000')\nfunction Videochat() {\n\tconst [ me, setMe ] = useState('')\n\tconst [ stream, setStream ] = useState()\n\tconst [ receivingCall, setReceivingCall ] = useState(false)\n\tconst [ caller, setCaller ] = useState('')\n\tconst [ callerSignal, setCallerSignal ] = useState()\n\tconst [ callAccepted, setCallAccepted ] = useState(false)\n\tconst [ idToCall, setIdToCall ] = useState('')\n\tconst [ callEnded, setCallEnded ] = useState(false)\n\tconst [ name, setName ] = useState('')\n\tconst myVideo = useRef()\n\tconst userVideo = useRef()\n\tconst connectionRef = useRef()\n\n\tuseEffect(() => {\n\t\tnavigator.mediaDevices.getUserMedia({ video: true, audio: true }).then(stream => {\n\t\t\tsetStream(stream)\n\t\t\tmyVideo.current.srcObject = stream\n\t\t})\n\n\t\tsocket.on('me', id => {\n\t\t\tsetMe(id)\n\t\t\t\n\t\t\t\n\t\t})\n\n\t\tsocket.on('callUser', data => {\n\t\t\tsetReceivingCall(true)\n\t\t\tsetCaller(data.from)\n\t\t\tsetName(data.name)\n\t\t\tsetCallerSignal(data.signal)\n\t\t})\n\t}, [])\n\n\tconst callUser = id => {\n\t\tconst peer = new Peer({\n\t\t\tinitiator: true,\n\t\t\ttrickle: false,\n\t\t\tstream: stream\n\t\t})\n\t\tpeer.on('signal', data => {\n\t\t\tsocket.emit('callUser', {\n\t\t\t\tuserToCall: id,\n\t\t\t\tsignalData: data,\n\t\t\t\tfrom: me,\n\t\t\t\tname: name\n\t\t\t})\n\t\t})\n\t\tpeer.on('stream', stream => {\n\t\t\tuserVideo.current.srcObject = stream\n\t\t})\n\t\tsocket.on('callAccepted', signal => {\n\t\t\tsetCallAccepted(true)\n\t\t\tpeer.signal(signal)\n\t\t})\n\n\t\tconnectionRef.current = peer\n\t}\n\n\tconst answerCall = () => {\n\t\tsetCallAccepted(true)\n\t\tconst peer = new Peer({\n\t\t\tinitiator: false,\n\t\t\ttrickle: false,\n\t\t\tstream: stream\n\t\t})\n\t\tpeer.on('signal', data => {\n\t\t\tsocket.emit('answerCall', { signal: data, to: caller })\n\t\t})\n\t\tpeer.on('stream', stream => {\n\t\t\tuserVideo.current.srcObject = stream\n\t\t})\n\n\t\tpeer.signal(callerSignal)\n\t\tconnectionRef.current = peer\n\t}\n\n\tconst leaveCall = () => {\n\t\tsetCallEnded(true)\n\t\tconnectionRef.current.destroy()\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<h1 style={{ textAlign: 'center', color: '#fff' }}>Videochat</h1>\n\t\t\t<div className='container'>\n\t\t\t\t<div className='video-container'>\n\t\t\t\t\t<div className='video'>\n\t\t\t\t\t\t{stream && <video playsInline muted ref={myVideo} autoPlay style={{ width: '300px' }} />}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='video'>\n\t\t\t\t\t\t{callAccepted && !callEnded ? (\n\t\t\t\t\t\t\t<video playsInline ref={userVideo} autoPlay style={{ width: '300px' }} />\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className='myId'>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tid='filled-basic'\n\t\t\t\t\t\tlabel='Name'\n\t\t\t\t\t\tvariant='filled'\n\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\tonChange={e => setName(e.target.value)}\n\t\t\t\t\t\tstyle={{ marginBottom: '20px' }}\n\t\t\t\t\t/>\n\t\t\t\t\t<CopyToClipboard text={me} style={{ marginBottom: '2rem' }}>\n\t\t\t\t\t\t<Button variant='contained' color='primary' startIcon={<AssignmentIcon fontSize='large' />}>\n\t\t\t\t\t\t\tCopy ID\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</CopyToClipboard>\n\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tid='filled-basic'\n\t\t\t\t\t\tlabel='ID to call'\n\t\t\t\t\t\tvariant='filled'\n\t\t\t\t\t\tvalue={idToCall}\n\t\t\t\t\t\tonChange={e => setIdToCall(e.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<div className='call-button'>\n\t\t\t\t\t\t{callAccepted && !callEnded ? (\n\t\t\t\t\t\t\t<Button variant='contained' color='secondary' onClick={leaveCall}>\n\t\t\t\t\t\t\t\tEnd Call\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<IconButton color='primary' aria-label='call' onClick={() => callUser(idToCall)}>\n\t\t\t\t\t\t\t\t<PhoneIcon fontSize='large' />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{idToCall}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t{receivingCall && !callAccepted ? (\n\t\t\t\t\t\t<div className='caller'>\n\t\t\t\t\t\t\t<h1>{name} is calling...</h1>\n\t\t\t\t\t\t\t<Button variant='contained' color='primary' onClick={answerCall}>\n\t\t\t\t\t\t\t\tAnswer\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : null}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default Videochat\n","import React from 'react'\nimport { Switch, Route, Redirect } from 'react-router-dom'\nimport Chatrooms from '../views/Chatrooms/Chatrooms'\nimport SingleChatroom from '../views/Chatrooms/SingleChatroom'\nimport CompleteYourProfile from '../views/CompleteYourProfile/CompleteYourProfile'\nimport Home from '../views/Home/Home'\nimport Login from '../views/Login/Login'\nimport MessagesGroup from '../views/Messages/MessagesGroup'\nimport Signup from '../views/Signup/Signup'\nimport Videochat from '../views/Videochat/Videochat'\n\nconst Routes = ({ storeUser, loggedUser }) => {\n\treturn (\n\t\t<Switch>\n\t\t\t<Route exact path='/' render={() => <Home />} />\n\t\t\t<Route exact path='/iniciar-sesion' render={props => <Login storeUser={storeUser} {...props} />} />\n\t\t\t<Route exact path='/registro' render={props => <Signup {...props} />} />\n\t\t\t<Route\n\t\t\t\texact\n\t\t\t\tpath='/completar-perfil'\n\t\t\t\trender={props => <CompleteYourProfile storeUser={storeUser} {...props} />}\n\t\t\t/>\n\t\t\t<Route exact path='/salas-chat' render={props => <Chatrooms storeUser={storeUser} {...props} />} />\n\t\t\t<Route path='/salas-chat/:id' render={props => <SingleChatroom {...props} />} />\n\t\t\t<Route\n\t\t\t\texact\n\t\t\t\tpath='/mis-mensajes'\n\t\t\t\trender={() =>\n\t\t\t\t\tloggedUser ? <MessagesGroup loggedUser={loggedUser} /> : <Redirect to='/iniciar-sesion' />}\n\t\t\t/>\n\t\t\t<Route exact path='/videochat' render={() => <Videochat />} />\n\t\t</Switch>\n\t)\n}\n\nexport default Routes\n","import React, { Component } from 'react'\nimport 'bootstrap/dist/css/bootstrap.css'\nimport Navigation from './components/layout/Navigation'\nimport AuthService from './components/services/AuthService'\nimport Routes from './components/Routes/Routes'\n// import Videochat from './components/views/Videochat/Videochat'\n\nexport class App extends Component {\n\tconstructor() {\n\t\tsuper()\n\t\tthis.state = {\n\t\t\tloggedUser: undefined\n\t\t}\n\t\tthis.authService = new AuthService()\n\t}\n\n\tcomponentDidMount = () => {\n\t\tthis.fetchUser()\n\t}\n\n\tstoreUser = user => this.setState({ loggedUser: user })\n\tfetchUser = () => {\n\t\tthis.authService.isloggedin().then(res => this.storeUser(res.data)).catch(err => this.storeUser(null))\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Navigation loggedUser={this.state.loggedUser} storeUser={this.storeUser} />\n\t\t\t\t<Routes storeUser={this.storeUser} loggedUser={this.state.loggedUser} />\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\nimport { BrowserRouter as Router } from 'react-router-dom'\n// import { ContextProvider } from './SocketContext'\n\nReactDOM.render(\n\t<Router>\n\t\t<React.StrictMode>\n\t\t\t{/* <ContextProvider> */}\n\t\t\t\t<App />\n\t\t\t{/* </ContextProvider> */}\n\t\t</React.StrictMode>\n\t</Router>,\n\tdocument.getElementById('root')\n)\n\nreportWebVitals()\n"],"sourceRoot":""}